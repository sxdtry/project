<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title></title>
  <style>
      *{margin:0;padding:0;}
      #wrap{
          position: relative;
          overflow: hidden;
          width: 954px;
          height: 650px;
          margin: 300px auto;
          font: 16px/1.5 "Microsoft Yahei";
          border-right: none;
          background-color: #f5f5f5;
      }
      ul{
          position: absolute;
          top: 0;
          left: 0;
          width: 900px;
          padding: 10px;
          list-style-type: none;
      }
      p{
          margin-bottom: 10px;
          border-bottom: 2px dashed pink;
      }
      #bar{
        position: absolute;
        top: 0;
        right:0;
        width: 30px;
        height: 646px;
        padding: 2px;
        border-radius: 15px;
        background-color: #ccc;
        box-shadow: 0 0 10px 0 inset;
      }
      span{
        position: absolute;
        top: 2px;
        left: 2px;
        width: 30px;
        height: 40px;
        background-color: pink;
        border-radius: 15px;
      }
  </style>
</head>
<body>
    <div id="wrap">
        <ul>
            <li>
                <p>夜，结束了一天的喧嚣后安静下来，伴随着远处路灯那微弱的光。</p>
                <p>风，毫无预兆地席卷整片旷野，撩动人的思绪万千。</p>
            </li>
            <li>
                <p>星，遥遥地挂在天空之中，闪烁着它那微微星光，不如阳光般灿烂却如花儿般如痴如醉。</p>
                <p>欲将沉醉换悲凉，清歌莫断肠。这混乱的尘世，究竟充斥了多少绝望和悲伤。</p>
            </li>
            <li>
                <p>你想去做一个勇敢的男子，为爱，为信仰，轰轰烈烈的奋斗一场。</p>
                <p>你周身充斥着无人可比的灵气和光芒。</p>
            </li>
            <li>
                <p>你有着与伟人比肩的才气和名声，你是那样高傲孤洁的男子。</p>
                <p>你的一寸狂心未说，已经几度黄昏雨。</p>
            </li>
            <li>
                <p>曾经以为，相爱的人一定要相守，只有相守，情感才能长久。</p>
                <p>可是，此岸和彼岸只不过是空间的差距，却无法拉长心灵的距离。</p>
            </li>
            <li>
                <p>时光荏苒，岁月无声。日子不紧不慢的如涓涓溪水静静的流去，而从身边流去的只有时光，沉淀下来的是与你一路相伴的幸福和快乐，温馨和安暖。</p>
                <p>于我，在这个凋零都感受到诗意横溢的秋，只想做一件事，拈一片绯红的枫叶，轻轻地刻上我的心语。</p>
            </li>
            <li>
                <p>对信仰，是我今生永不改变的主题！而后，幸福的寄往有你的那个城市。</p>
                <p>从此，在我心里，于我的生命里，轻握你许的安暖，静静地在岁月的彼岸，为你守候一世永恒！</p>
            </li>
            <li>
                <p>一段情，反复的掂量，最后加深了岁月的绵长。</p>
                <p>一路追赶里，一路追忆里，最后得到的是什么，最后又失去的是什么。</p>
            </li>
            <li>
                <p>或许，只有我们在静思的时候才会明白，这路的追忆里，我们得到的快乐往往比痛苦要少。</p>
                <p>当相思成殇的时候，除了对月徒悲叹之外，什么也不曾抓到。</p>
            </li>
            <li>
                <p>一直执着于生命的简约格调，只愿用一颗淡然的心看云卷云舒，看季节更迭。</p>
                <p>许多不合时节的事物，必然会被光阴遗落，就像曾经繁茂的秋叶，待生命枯竭，终将脱离叶脉的相系相牵。</p>
            </li>
            <li>
                <p>而我，一直在这里，抖落一身的负累，永恒以树的姿态站立于季风中，昂首向着那无边温暖的碧蓝晴空。</p>
                <p>夜幕降临了，春雨柔柔的亲吻着薄如蝉翼的纱帘，有节奏的淅沥在窗棂上，更增添了无限的意念。</p>
            </li>
            <li>
                <p>意念中的我，在幸福和恬淡中，漫捻心弦化为若水般的轻柔曼妙在深情的雨夜里。</p>
                <p>此刻，窗外的雨不再是清冷的秋雨了，在我的眸里是一种柔软，似撒娇少女的情怀，是怜、是爱、是柔、是润在我的心里是一种憧憬，</p>
            </li>
            <li>
                <p>憧憬着一份美好的未来，与你相拥在花雨飘飞的时节，让爱情肆意的怒放在油纸伞下，</p>
                <p>青石边，丁香小巷这样的心境，这样的时光，这样的时刻，心不经意间便醉了、醉了、醉在这如曼妙轻盈舞步的秋雨中</p>
            </li>
            <li>
                <p>晚霞破月的天际，依旧映红了归家的路途，流浪了好久的笔调写满了疲倦的素笺，</p>
                <p>伴着枯萎的憔悴，与年华斑驳的碎影相逢，溅起涟漪在心田的几缕游丝浅叹，</p>
            </li>
            <li>
                <p>让年华牵住执笔的手，静听潺潺流水；</p>
                <p>波动在逐流的心海，唤名为；婆娑年华，勾勒了谁的斑驳唯有情醉琉璃一宿，又是一个不眠的夜。</p>
            </li>
            <li>
                <p>真正的相爱，是人在千里，却梦魂相依；</p>
                <p>真正的相爱，是岁月流转，却不离不弃；真正的相爱，是彼此付出，却无怨无悔。</p>
            </li>
            <li>
                <p>樱花有单樱和双樱，她们绽放时满树灿烂，清香扑鼻，单樱白的如雪如云，双樱色彩如火似霞。</p>
                <p>但是无论是单樱还是双樱，她们盛开的时间都不长，二十多天的光景，开的绚丽多彩、满树烂漫，落得星星瓣瓣，匆匆忙忙。</p>
            </li>
        </ul>
        <div id="bar">
            <span></span>
        </div>
    </div>
    <script>
        var win = document.getElementById('wrap');          //文档可视区
        var oUl = document.getElementsByTagName('ul')[0];   //文档实际内容区
        var bar = document.getElementById('bar');           //滚动条
        var bar_sp = document.getElementsByTagName('span')[0];  //滚动块
        var sheep = 10;      //滚动速度
        var max_bar_sp = bar.offsetHeight - bar_sp.offsetHeight - 2; //padding为2
        var max_oUl = oUl.offsetHeight - win.offsetHeight;


        scrollWheel(win, Fn, true);


        // 封装滚轮兼容
        function scrollWheel(obj,Fn,bool,e){
            e = e || window.event;
            //判断是哪个浏览器执行事件
            if(obj.onmousewheel === null){   //判断是谷歌还是大众浏览器
                if(!-[1,]){     //判断是IE8以下还是以上
                    obj.attachEvent('onmousewheel', bar_dir, {passive: false});
                }else{
                    obj.addEventListener('mousewheel', bar_dir,{passive: false});
                }
            }else{
                obj.addEventListener('DOMMouseScroll', bar_dir,{passive: false});
            }
            //滚动方向判断
            function bar_dir(e){
                e = e || window.event;
                e.wheelDelta = e.wheelDelta || -e.detail;
                console.log(e.wheelDelta)
                //阻断浏览器默认滚动条
                if(bool){
                    if(!-[1,]){
                        e.returnValue = false;
                    }else{
                        e.preventDefault();
                    }
                }
                Fn.call(this, e);
            }
        }



        //执行的滚动逻辑函数
        function Fn(e){
            var startY = bar_sp.offsetTop;              //滚动块滚动前初始位置
            var value;
            if(e.wheelDelta > 0){                       //判断是上滚还是下滚
                value = startY - sheep;
            }else{
                value = startY + sheep;
            }
            proportion(value);
        }



        //执行的拖动逻辑函数
        bar.onmousedown = function(e){                     //事件委托写法
            e = e || window.event;
            if(e.target.nodeName.toLowerCase() === 'span'){
                var startY = e.clientY;                    //初始鼠标点击位置
                var startTop = bar_sp.offsetTop;           //初始滑块位置
                var value;                                 //存储滑块最终定位值
                this.onmousemove = function(e){
                    var endY = e.clientY;
                    value = endY - startY + startTop;
                    proportion(value);
                }
            }
        }

        //鼠标松开解绑鼠标移动事件
        document.onmouseup = function(e){              //鼠标在滚动条外松开也可取消
            bar.onmousemove = null;
        }


        //鼠标点击逻辑函数
        bar.onclick = function(e){
            e = e || window.event;
            var sp_click = e.pageY || e.scrollTop + e.clientY;    //鼠标点击位置
            var sp_H = bar_sp.offsetHeight / 2;        //滑块一半的高度
            var win_H = win.offsetTop;                 //文档的top值
            var value = sp_click - win_H - sp_H;
            proportion(value);
        }


        //等比例赋值函数
        function proportion(value){
            value = Math.max(2, value);                 //滚动后判断是否超出滚动条
            value = Math.min(max_bar_sp, value);        //判断完后再赋值给style
            var proportion = (value - 2) / max_bar_sp;  //计算比例值

            //赋值给style
            bar_sp.style.top = value + 'px';
            oUl.style.top = -max_oUl * proportion + 'px';
        }
    </script>
</body>
</html>